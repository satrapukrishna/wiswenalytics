<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar</title>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js"></script>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: #f5f5f5;
        }

        #calendar {
            max-width: 1000px;
            width: 100%;
            margin: 20px;
            background: #fff;
            border-radius: 12px;
            padding: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .kwh-box {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        .kwh-value {
            font-size: 18px;
        }

        .kwh-unit {
            font-size: 12px;
            color: #666;
        }
        
        .low {
            background: #d4f8d4 !important;
        }        
        .medium {
            background: #fff3cd !important;
        }
        
        .high {
            background: #f8d7da !important;
        }        
        .none {
            background: #f0f0f0 !important;
        }
        .fc {
            font-family: Arial, Helvetica, sans-serif !important;
            font-weight: normal;
        }
        .energy-value {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div id="calendar"></div>

    <script>
        // Sample kWh values for August 2025
        const kwhData = {
            "2025-08-03": 12,
            "2025-08-04": 8,
            "2025-08-05": 6,
            "2025-08-06": 15,
            "2025-08-07": 10,
            "2025-08-08": 18,
            "2025-08-09": 9,
            "2025-08-10": 14,
            "2025-08-11": 11,
            "2025-08-12": 7,
            "2025-08-13": 20,
            "2025-08-14": 8,
            "2025-08-15": 13,
            "2025-08-16": 16,
            "2025-08-17": 10,
            "2025-08-18": 22,
            "2025-08-19": 12,
            "2025-08-20": 7,
            "2025-08-21": 14,
            "2025-08-22": 9,
            "2025-08-23": 17,
            "2025-08-24": 10,
            "2025-08-25": 19,
            "2025-08-26": 6,
            "2025-08-27": 12,
            "2025-08-28": 15,
            "2025-08-29": 8,
            "2025-08-30": 20,
            "2025-08-31": 11
        };

        document.addEventListener('DOMContentLoaded', function () {
            const calendarEl = document.getElementById('calendar');

            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                initialDate: '2025-08-01',
                dayCellDidMount: function (info) {                    
                    const d = info.date;
                    const dateStr = d.getFullYear() + '-' +
                        String(d.getMonth() + 1).padStart(2, '0') + '-' +
                        String(d.getDate()).padStart(2, '0');

                    const frame = info.el.querySelector('.fc-daygrid-day-frame');
                    
                    const dayNumEl = info.el.querySelector('.fc-daygrid-day-number');
                    if (dayNumEl) {
                        dayNumEl.textContent = String(info.date.getDate()).padStart(2, '0');
                    }

                    const val = kwhData[dateStr];
                    let displayVal = '-';
                    let bucketClass = 'none';

                    if (typeof val === 'number') {
                        displayVal = val;
                        bucketClass = (val <= 10) ? 'low' : (val <= 15 ? 'medium' : 'high');
                    }

                    info.el.classList.add(bucketClass);

                    const box = document.createElement('div');
                    box.className = 'kwh-box';
                    box.innerHTML = `
            <div class="kwh-value">${displayVal}</div>
            <div class="kwh-unit">kWh</div>
          `;
                    frame.appendChild(box);
                }
            });

            calendar.render();
        });
    </script>
</body>

</html>